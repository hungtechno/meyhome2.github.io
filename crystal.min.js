b4w.register("crystal_main",function(v,e){function w(a,c){c?(t.create_preloader(),a.oncontextmenu=function(a){a.preventDefault();a.stopPropagation();return!1},x.load(y+"crystal.json",z,A)):console.log("b4w init failure")}function A(a){t.update_preloader(a)}function z(a,c){c?(m.enable_camera_controls(),m.enable_camera_controls(!1,!1,!1,null,!0),a=h.get_active_camera(),B(a),a=C.get_canvas(),a.addEventListener("mouseup",D),a.addEventListener("mousedown",E)):console.log("b4w load failure")}function D(a){if(0==
a.button){a.preventDefault&&a.preventDefault();if(a=h.pick_object(a.clientX,a.clientY))switch(h.get_object_name(a)){case "nutquaylai":var e=h.get_object_by_name("target1"),g=h.get_object_by_name("vitri1");break;default:return}g&&e&&(a=h.get_active_camera(),g=l.get_translation(g),e=l.get_translation(e),r.target_get_pivot(a,c.current_target),l.get_translation(a,c.current_eye),k.copy(c.current_target,c.starting_target),k.copy(c.current_eye,c.starting_eye),k.copy(g,c.final_eye),k.copy(e,c.final_target),
n=1,c.timeline=F.get_timeline(),console.log(c))}}function E(a){0==a.button&&(a=h.get_active_camera(),1>g.get_sensor_value(a,"CAMERA_MOVE",0)-c.timeline&&(p=!0))}function B(a){var e=g.create_timeline_sensor(),h=g.create_elapsed_sensor();g.create_sensor_manifold(a,"CAMERA_MOVE",g.CT_CONTINUOUS,[e,h],function(a){return 1>a[0]-c.timeline},function(a,b,d){1==d?p?c.timeline=-1:(m.disable_camera_controls(),b=g.get_sensor_value(a,b,1),d=b/1,k.subtract(c.final_eye,c.starting_eye,q),k.scaleAndAdd(c.current_eye,
q,d,c.current_eye),n-=b,d=1-n*n,k.subtract(c.final_target,c.starting_target,q),k.scaleAndAdd(c.starting_target,q,d,c.current_target),r.target_set_trans_pivot(a,c.current_eye,c.current_target),console.log(c.current_eye,c.current_target)):(m.enable_camera_controls(!1,!1,!1,null,!0),p?p=!1:r.target_set_trans_pivot(a,c.final_eye,c.final_target))});a=document.getElementById("menuphu");var l=document.getElementById("menuphu_child");a.style.display="block";a.addEventListener("click",function(){l.style.display=
"block"==l.style.display?"visible":"block"},!1);var f=document.getElementById("hienthongtin"),b=document.getElementById("hienthongtin_childaudio");f.style.display="block";var d=document.getElementById("nuttat");document.getElementById("nuttat_child");d.style.display="block";d.addEventListener("click",function(){d.style.bottom="-100px";f.style.top="-100%";document.getElementById("noidungthongtin").src="";document.getElementById("audio1").src="";b.style.display="none"},!1);a=document.getElementById("dnb1");
a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-coquanhanhchinh.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("dnb2");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";
b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-truongquocte.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("dnb3");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-clubhouse-marine.html";
document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("dnb4");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-centerpark.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==
b.style.display?"none":"block"},!1);a=document.getElementById("dnb5");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-clubhouse-violet.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("dnb6");a.style.display="block";a.addEventListener("click",
function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-baidoxelon.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("dnb7");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src=
"./assets/webcon-crystal/crystal-clubhouse-tiger.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("dnb8");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-riversidepark.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";
b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("dnb9");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-tttm.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("via9");a.style.display=
"block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-canhovib.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-canhovib.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("vib28");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";
document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-canhovib.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-canhovib.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("vib9");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-canhovib.html";document.getElementById("audio1").src=
"./assets/crystal-audio/crystal-canhovib.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("vic44");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-canhovib.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-canhovib.mp3";b.style.display="block"==b.style.display?"none":"block"},
!1);a=document.getElementById("nut1");a.style.display="block";a.addEventListener("click",function(){},!1);a=document.getElementById("nut2");a.style.display="block";a.addEventListener("click",function(){},!1);a=document.getElementById("nut3");a.style.display="block";a.addEventListener("click",function(){},!1);a=document.getElementById("nut4");a.style.display="block";a.addEventListener("click",function(){},!1);a=document.getElementById("nut5");a.style.display="block";a.addEventListener("click",function(){},
!1);a=document.getElementById("tongquancrystal");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-tongquan.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("sodomatbang");a.style.display="block";a.addEventListener("click",
function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/sodomatbang/sodomatbang.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-tongquan.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("chinhsachbanhang");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src=
"./assets/webcon-crystal/crystal-chinhsachbanhang.html";document.getElementById("audio1").src="./assets/crystal-audio/crystal-chinhsachbanhang.mp3";b.style.display="block"==b.style.display?"none":"block"},!1);a=document.getElementById("thongtinkhach");a.style.display="block";a.addEventListener("click",function(){d.style.bottom="0px";f.style.top="45%";b.style.display="none";document.getElementById("noidungthongtin").src="./assets/webcon-crystal/crystal-chinhsachbanhang.html";document.getElementById("audio1").src=
"./assets/crystal-audio/crystal-chinhsachbanhang.mp3";b.style.display="block"==b.style.display?"none":"block"},!1)}var m=e("app"),G=e("config"),x=e("data"),t=e("preloader"),H=e("version"),r=e("camera"),C=e("container"),g=e("controls"),h=e("scenes"),F=e("time"),l=e("transform"),k=e("vec3"),u="DEBUG"==H.type(),y=G.get_assets_path("phankhu-crystal"),p=!1,n=1,c={timeline:-1,starting_eye:new Float32Array(3),starting_target:new Float32Array(3),final_eye:new Float32Array(3),final_target:new Float32Array(3),
current_eye:new Float32Array(3),current_target:new Float32Array(3)},q=new Float32Array(3);v.init=function(){m.init({canvas_container_id:"main_canvas_container",callback:w,show_fps:u,console_verbose:u,autoresize:!0})}});b4w.require("crystal_main").init();
